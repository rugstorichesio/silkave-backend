// Submit score functionality for Silk Ave

document.addEventListener("DOMContentLoaded", () => {
  // Check for URL parameters (from game)
  const urlParams = new URLSearchParams(window.location.search)
  const btcParam = urlParams.get("btc")
  const glockParam = urlParams.get("glock")

  // If parameters exist, pre-fill the form
  if (btcParam) {
    document.getElementById("btc").value = btcParam
  }

  if (glockParam) {
    const glockSelect = document.getElementById("glock")
    for (let i = 0; i < glockSelect.options.length; i++) {
      if (glockSelect.options[i].value === glockParam) {
        glockSelect.selectedIndex = i
        break
      }
    }
  }

  // Generate a unique game hash
  document.getElementById("hash").value = generateGameHash()
})

// Generate a unique game hash
function generateGameHash() {
  const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
  const hashLength = 16
  let hash = ""

  for (let i = 0; i < hashLength; i++) {
    const randomIndex = Math.floor(Math.random() * characters.length)
    hash += characters.charAt(randomIndex)
  }

  return hash
}

// Play sound effects
function playBleep() {
  const bleep = document.getElementById("bleep")
  if (bleep) {
    bleep.currentTime = 0
    bleep.play()
  }
}

function activateSounds() {
  const typing = document.getElementById("typing")
  const crackles = document.getElementById("crackles")

  if (typing) typing.play()
  if (crackles) crackles.play()

  document.body.onclick = null
}
